"use strict";(self["webpackChunkHR_Dashboard"]=self["webpackChunkHR_Dashboard"]||[]).push([[202],{5202:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content"},[t("van-sticky",{attrs:{"offset-top":48}},[t("van-row",{staticClass:"select-box",attrs:{gutter:"6"}},[t("van-col",{attrs:{span:"12"}},[t("span",{on:{click:function(t){e.show=!0}}},[e._v("Select BU |")]),t("span",{staticClass:"ml-8",on:{click:function(t){e.show=!0}}},[e._v(e._s(e.selBu))]),t("img",{attrs:{width:"24px",src:a(597)},on:{click:function(t){e.show=!0}}})]),t("van-col",{staticClass:"justify-end",attrs:{span:"12"}},[t("div",{staticClass:"sel-month"},[t("span",{on:{click:function(t){e.showMonth=!0}}},[e._v(e._s(e.selMonth))]),t("img",{attrs:{width:"24px",src:a(597)},on:{click:function(t){e.showMonth=!0}}})])])],1)],1),t("van-action-sheet",{attrs:{title:"Select BU",round:!1,actions:e.buLists},on:{select:e.onSelect},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),t("van-action-sheet",{attrs:{round:!1},model:{value:e.showMonth,callback:function(t){e.showMonth=t},expression:"showMonth"}},[t("van-datetime-picker",{attrs:{"min-date":e.minDate,type:"year-month",formatter:e.formatter},on:{confirm:e.confirm,cancel:function(t){e.showMonth=!1}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),t("div",{staticClass:"content-items"},[t("div",{staticClass:"content-items-content"},[e._m(0),t("van-row",{staticClass:"calendar-content",attrs:{gutter:"16"}},e._l(e.leaveMonth,(function(a,s){return t("van-col",{key:s,staticClass:"calendar-list",attrs:{span:"6"}},[t("div",{class:[a.value>50?"danger":"success"]},[t("div",{staticClass:"calendar-text text-center"},[t("p",{staticClass:"fs-18"},[e._v(e._s(a.value||"-")+e._s(a.value?"%":""))]),t("p",{staticClass:"fs-14"},[e._v(e._s(e.getMonth(a.name)))])])])])})),1)],1),e._m(1)]),t("div",{staticClass:"content-items"},[t("div",{staticClass:"content-items-content"},[e._m(2),t("div",{staticClass:"percentage-box"},[e._m(3),t("div",{staticClass:"percentage-box-content align-center text-white fs-18 fw-600"},[t("div",{staticClass:"percentage-box-items bg-purple",style:{width:e.getPercentage(e.is_frontline,e.leaveDTLTotal)+"%"}},[t("span",[e._v(e._s(e.getPercentage(e.is_frontline,e.leaveDTLTotal))+"%")])]),t("div",{staticClass:"percentage-box-items text-right bg-blue",style:{width:e.getPercentage(e.is_frontline_n,e.leaveDTLTotal)+"%"}},[t("span",[e._v(e._s(e.getPercentage(e.is_frontline_n,e.leaveDTLTotal))+"%")])])])]),t("div",{staticClass:"percentage-box"},[e._m(4),t("div",{staticClass:"percentage-box-content align-center text-white fs-18 fw-600"},[t("div",{staticClass:"percentage-box-items bg-purple",style:{width:e.getPercentage(e.genderF,e.leaveDTLTotalGender)+"%"}},[t("span",[e._v(e._s(e.getPercentage(e.genderF,e.leaveDTLTotalGender))+"%")])]),t("div",{staticClass:"percentage-box-items text-right bg-blue",style:{width:e.getPercentage(e.genderM,e.leaveDTLTotalGender)+"%"}},[t("span",[e._v(e._s(e.getPercentage(e.genderM,e.leaveDTLTotalGender))+"%")])])])]),t("div",{staticClass:"percentage-box"},[t("div",{staticClass:"content-items-content"},[e._m(5),t("div",{staticClass:"recruit"},[t("div",{staticClass:"recruit-items",style:{height:35*e.MAgeByGrade?.length+"px"}},[t("div",{staticClass:"recruit-bar",style:{height:35*e.MAgeByGrade?.length+"px"},attrs:{id:"ageGroup"}})])])])])])]),t("div",{staticClass:"content-items"},[t("div",{staticClass:"content-items-content"},[e._m(6),t("div",{staticClass:"percentage-box"},[e._m(7),t("div",{staticClass:"percentage-box-content align-center text-white fs-18 fw-600"},[t("div",{staticClass:"percentage-box-items bg-purple",style:{width:e.getPercentage(e.is_frontline_sick,e.leaveDTLTotalSick)+"%"}},[t("span",[e._v(e._s(e.getPercentage(e.is_frontline_sick,e.leaveDTLTotalSick))+"%")])]),t("div",{staticClass:"percentage-box-items text-right bg-blue",style:{width:e.getPercentage(e.is_frontline_n_sick,e.leaveDTLTotalSick)+"%"}},[t("span",[e._v(e._s(e.getPercentage(e.is_frontline_n_sick,e.leaveDTLTotalSick))+"%")])])])]),t("div",{staticClass:"percentage-box"},[e._m(8),t("div",{staticClass:"percentage-box-content align-center text-white fs-18 fw-600"},[t("div",{staticClass:"percentage-box-items bg-purple",style:{width:e.getPercentage(e.genderF_sick,e.leaveDTLTotalSickGender)+"%"}},[t("span",[e._v(e._s(e.getPercentage(e.genderF_sick,e.leaveDTLTotalSickGender))+"%")])]),t("div",{staticClass:"percentage-box-items text-right bg-blue",style:{width:e.getPercentage(e.genderM_sick,e.leaveDTLTotalSickGender)+"%"}},[t("span",[e._v(e._s(e.getPercentage(e.genderM_sick,e.leaveDTLTotalSickGender))+"%")])])])]),t("div",{staticClass:"percentage-box"},[t("div",{staticClass:"content-items-content"},[e._m(9),t("div",{staticClass:"recruit"},[t("div",{staticClass:"recruit-items",style:{height:35*e.MAgeByGradeSick?.length+"px"}},[t("div",{staticClass:"recruit-bar",style:{height:35*e.MAgeByGradeSick?.length+"px"},attrs:{id:"ageGroupSick"}})])])])])])])],1)},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-items-title"},[t("img",{attrs:{width:"24px",src:a(8640)}}),t("span",[e._v("Annual Leaves Calender")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-items-content mt-12"},[t("div",{staticClass:"content-items-title"},[t("span",[e._v("Leave Apply Trend")])]),t("div",{staticClass:"monthy"},[t("div",{staticClass:"monthy-bar",staticStyle:{height:"252px"},attrs:{id:"annualBar"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-items-title content-items-title-2"},[t("span",[e._v("Leaves Taken")]),t("div",{staticClass:"content-items-title-right"},[e._v("YTD")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"percentage-box-title fs-14 text-yellow"},[t("span",[e._v("FL VS. Office")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"percentage-box-title fs-14 text-yellow"},[t("span",[e._v("Gender（F/M）")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-items-title"},[t("div",[t("span",[e._v("Age group")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-items-title content-items-title-2"},[t("span",[e._v("Sick Leaves")]),t("div",{staticClass:"content-items-title-right"},[e._v("YTD")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"percentage-box-title fs-14 text-yellow"},[t("span",[e._v("FL VS. Office")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"percentage-box-title fs-14 text-yellow"},[t("span",[e._v("Gender（F/M）")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-items-title"},[t("div",[t("span",[e._v("Age group")])])])}],i=(a(4114),a(7349)),l=a(3011),r=a(7691),o=a(9941),c=a(2407),h=a(8193),d={name:"leaveUsage",components:{Row:i.A,Col:l.A,Swipe:r.A,SwipeItem:o.A},data(){const e={common:{pageNum:1,pageSize:2e3,returnTotalNum:"true"}};return{...e,selBu:"",selYear:(0,c.n7)(new Date,"year"),selMonth:(0,c.n7)(new Date((new Date).setMonth((new Date).getMonth())),"month"),selMonthN:(0,c.n7)(new Date((new Date).setMonth((new Date).getMonth())),"normalDay2"),leaveDTL:[],leaveDTLMonth:[],show:!1,currentDate:new Date((new Date).setMonth((new Date).getMonth())),showMonth:!1,colors:(0,c.zB)(),minDate:new Date("1970-01-01"),is_frontline:[],is_frontline_n:[],is_frontline_sick:[],is_frontline_n_sick:[],buEmployeeItems:[],genderF:[],genderM:[],genderF_sick:[],genderM_sick:[],ageLevelItems:[],ageLevelItemsSick:[],MAgeByGradeTotal:0,leaveDTLTotalSick:0,leaveDTLTotalSickGender:0,leaveDTLTotalGender:0,leaveDTLTotal:0,leaveDTLTotalAge:0,leaveDTLTotalSickAge:0}},computed:{employee(){return this.hrEmployee.filter((e=>{const t=new Date((0,c.n7)(new Date(e.resign_date),"monthN")).getTime(),a=new Date((0,c.n7)(new Date(e.hire_date),"monthN")).getTime(),s=(0,c.n7)(new Date((new Date).setMonth(new Date(this.selMonthN).getMonth())),"monthN");if(t>new Date(s).getTime()&&a<=new Date(s).getTime()||!e.resign_date&&a<=new Date(s).getTime())return e}))},employeeItems(){const e={};return this.employee.forEach((t=>{e[t.bu_code]=e[t.bu_code]||[],e[t.bu_code].push(t)})),e},leaveDTLItems(){return this.leaveDTLMonth.filter((e=>["Annual Leave","J04"].indexOf(e.leave_code)>-1))},leaveDTLMonthItems(){const e={};return this.leaveDTLItems.forEach((t=>{e[t.the_month]=e[t.the_month]||[],e[t.the_month].push(t)})),e},leaveMonth(){let e=[];for(let a in this.leaveDTLMonthItems)if(this.leaveDTLMonthItems.hasOwnProperty(a)){let t=a.split("-")?.[0],s=a.split("-")?.[1],n=new Date(a+"-01").getMonth()+1,i=this.getleaveMonth(t,s,"leaveDTLMonthItems").filter((e=>e));const l=i.filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0);let r=i.reduce(((e,t)=>{if(e&&t){const a=e.find((e=>e.bu_code===t.bu_code&&e.dept_code===t.dept_code&&e.emp_level===t.emp_level&&e.total_days===t.total_days));return a?e:e.concat([t])}}),[]);const o=r.map((e=>e.total_days)).reduce(((e,t)=>e+t),0),c=l/o;let h=c?(100*c).toFixed(1):0;const d=new Date(this.selMonthN).getMonth()+1;n>d&&(h=0),e.push({id:n,name:a,value:h})}let t=[];for(let a=1;a<=12;a++){let s=[];if(s=e.filter((e=>e.id==a)),!s.length){const e=a.toString().padStart(2,"0");s=[{id:a,name:this.selYear+"-"+e,value:0}]}t=t.concat(s)}return t},leaveMonthYItems(){return this.leaveDTLMonthY.filter((e=>["Annual Leave","J04"].indexOf(e.leave_code)>-1))},leaveDTLMonthYItems(){const e={};return this.leaveMonthYItems.forEach((t=>{e[t.the_month]=e[t.the_month]||[],e[t.the_month].push(t)})),e},MAgeByGrade(){let e=[];for(let t in this.ageLevelItems){let a=[];if(this.ageLevelItems.hasOwnProperty(t)){a=this.ageLevelItems[t];const s=a.filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0);e.push({sortby:parseInt(t.substring(0,2))||100,name:t,data:a,value:(s/this.leaveDTLTotalAge*100).toFixed(2)})}}return e=[...e].sort(((e,t)=>e.sortby-t.sortby)),e},MAgeByGradeSick(){let e=[];for(let t in this.ageLevelItemsSick){let a=[];if(this.ageLevelItemsSick.hasOwnProperty(t)){a=this.ageLevelItemsSick[t];const s=a.filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0);e.push({sortby:parseInt(t.substring(0,2))||100,name:t,data:a,value:(s/this.leaveDTLTotalSickAge*100).toFixed(2)})}}return e=[...e].sort(((e,t)=>e.sortby-t.sortby)),e}},created(){this.buLists=[{name:"Overview",value:"Overview"}].concat(this.buList),this.buEmployeeItems=this.employee,this.$nextTick((()=>{this.selBu="Overview",this.selYear=(0,c.n7)(new Date,"year"),this.setEchars()}))},watch:{},methods:{arrDistinct:c.CA,getDaysInCurrentMonth:c.y7,setEchartColor:c.zB,getPercentage(e,t,a){return 2===a?Math.round(e/t*100):e&&t?(e/t*100).toFixed(2):0},getleaveMonth(e,t,a){let s=[];for(let n=1;n<=t;n++){const t=e+"-"+String(n).padStart(2,0);s=s.concat(this[a][t])}return s},getEmployee(e){return this.hrEmployee.filter((t=>t.emp_id===e.emp_id))?.[0]},getMonth(e){return new Date(e).toLocaleDateString("en-US",{month:"short"})},async getLeaveByMonth(){const e=await h.VD((0,c.of)({...this.$options.data().common,bu_code:"Overview"===this.selBu?"":this.selBu,begin_month:(0,c.n7)(new Date(this.selMonthN),"year")+"-01",end_month:(0,c.n7)(new Date(this.selMonthN),"year")+"-12"}));this.leaveDTLMonth=e.rows;const t=new Date(this.selMonthN),a=new Date(t.setFullYear(t.getFullYear()-1)),s=await h.VD((0,c.of)({...this.$options.data().common,bu_code:"Overview"===this.selBu?"":this.selBu,begin_month:(0,c.n7)(new Date(a),"year")+"-01",end_month:(0,c.n7)(new Date(a),"year")+"-12"}));this.leaveDTLMonthY=s.rows},async getLeaveDTL(e){e||(this.leaveDTL=[]);const t={...this.$options.data().common,pageNum:e||1},a=await h.f1((0,c.of)({...t,bu_code:"Overview"===this.selBu?"":this.selBu,the_year:(0,c.n7)(new Date(this.selMonthN),"year")}));this.leaveDTL=this.leaveDTL.concat(a.rows||[]),a.totalNum>t.pageNum*t.pageSize&&await this.getLeaveDTL(t.pageNum+1)},async setEchars(){this.getLeaveDTL(),await this.getLeaveByMonth(),this.getAnnualLeave(!0),this.setLeavesToken(),this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?this.getAnnualLeave(!0):this.getAnnualLeave(!1)}))})),this.observer.observe(document.getElementById("annualBar"))},setLeavesToken(){const e=this.leaveDTL.filter((e=>["B01","J03","Sick Leave"].indexOf(e.leave_code)>-1));this.leaveDTLTotal=this.leaveDTL.filter((e=>e&&e.leave_days&&null!=e.leave_days&&e.is_frontline)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.leaveDTLTotalSick=e.filter((e=>e&&e.leave_days&&null!=e.leave_days&&e.is_frontline)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.leaveDTLTotalAge=this.leaveDTL.filter((e=>e&&e.leave_days&&null!=e.leave_days&&e.age_group)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.leaveDTLTotalSickAge=e.filter((e=>e&&e.leave_days&&null!=e.leave_days&&e.age_group)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.leaveDTLTotalGender=this.leaveDTL.filter((e=>e&&e.leave_days&&null!=e.leave_days&&"U"!==e.gender)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.leaveDTLTotalSickGender=e.filter((e=>e&&e.leave_days&&null!=e.leave_days&&"U"!==e.gender)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.is_frontline=this.leaveDTL.filter((e=>"Y"===e.is_frontline)).filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.is_frontline_n=this.leaveDTL.filter((e=>"N"===e.is_frontline)).filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.genderF=this.leaveDTL.filter((e=>"F"===e.gender)).filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.genderM=this.leaveDTL.filter((e=>"M"===e.gender)).filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0);const t={};this.leaveDTL.forEach((e=>{t[e.age_group]=t[e.age_group]||[],t[e.age_group].push(e)})),this.ageLevelItems=t,this.is_frontline_sick=e.filter((e=>"Y"===e.is_frontline)).filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.is_frontline_n_sick=e.filter((e=>"N"===e.is_frontline)).filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.genderF_sick=e.filter((e=>"F"===e.gender)).filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0),this.genderM_sick=e.filter((e=>"M"===e.gender)).filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0);const a={};e.forEach((e=>{a[e.age_group]=a[e.age_group]||[],a[e.age_group].push(e)})),this.ageLevelItemsSick=a,this.getAgeLevelItems(!0,!0),this.getAgeLevelItems(!0,!0,"ageGroupSick"),this.observer2=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?this.getAgeLevelItems(!0,!0):this.getAgeLevelItems(!1)}))})),this.observer2.observe(document.getElementById("ageGroup")),this.observer3=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?this.getAgeLevelItems(!0,!0,"ageGroupSick"):this.getAgeLevelItems(!1,"","ageGroupSick")}))})),this.observer3.observe(document.getElementById("ageGroupSick"))},formatter(e,t){return"year"===e?`${t}年`:"month"===e?`${t}月`:t},confirm(e){if(this.showMonth=!1,this.selMonth=(0,c.n7)(new Date(e),"month"),this.selMonthN=(0,c.n7)(new Date(e),"normalDay2"),this.selYear===(0,c.n7)(new Date(e),"year"))return this.getAnnualLeave(!0),!1;"Overview"===this.selBu?this.buEmployeeItems=this.employee||[]:this.buEmployeeItems=this.employeeItems[this.selBu]||[],this.buEmployeeItems=[...this.buEmployeeItems],this.selYear=(0,c.n7)(new Date(e),"year"),this.setEchars()},onSelect(e){"Overview"===this.selBu?this.buEmployeeItems=this.employee||[]:this.buEmployeeItems=this.employeeItems[this.selBu]||[],this.buEmployeeItems=[...this.buEmployeeItems],this.show=!1,this.selBu=e.value,this.setEchars()},getAnnualLeave(e){const t=document.getElementById("annualBar");if(!t)return!1;this.myChartAnnualLeave&&this.myChartAnnualLeave.dispose(),this.myChartAnnualLeave=this.$echarts.init(t,null,{devicePixelRatio:2});let a=[];for(let c in this.leaveDTLMonthYItems)if(this.leaveDTLMonthYItems.hasOwnProperty(c)){let e=c.split("-")?.[0],t=c.split("-")?.[1],s=new Date(c+"-01").getMonth()+1,n=this.getleaveMonth(e,t,"leaveDTLMonthYItems");const i=n.filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0);let l=n.reduce(((e,t)=>{const a=e.find((e=>e.bu_code===t.bu_code&&e.dept_code===t.dept_code&&e.emp_level===t.emp_level&&e.total_days===t.total_days));return a?e:e.concat([t])}),[]);const r=l.map((e=>e.total_days)).reduce(((e,t)=>e+t),0),o=i/r,h=o?(100*o).toFixed(2):0;a.push({id:s,name:this.getMonth(c),value:h})}let s=[];for(let c in this.leaveDTLMonthItems)if(this.leaveDTLMonthItems.hasOwnProperty(c)){let e=c.split("-")?.[0],t=c.split("-")?.[1],a=new Date(c+"-01").getMonth()+1,n=this.getleaveMonth(e,t,"leaveDTLMonthItems").filter((e=>e));const i=n.filter((e=>e&&e.leave_days&&null!=e.leave_days)).map((e=>e.leave_days)).reduce(((e,t)=>e+t),0);let l=n.reduce(((e,t)=>{const a=e.find((e=>e.bu_code===t.bu_code&&e.dept_code===t.dept_code&&e.emp_level===t.emp_level&&e.total_days===t.total_days));return a?e:e.concat([t])}),[]);const r=l.map((e=>e.total_days)).reduce(((e,t)=>e+t),0),o=i/r,h=o?(100*o).toFixed(1):0;s.push({id:a,name:this.getMonth(c),value:h})}let n=[],i=[];for(let c=1;c<=12;c++){let e=[],t=[];e=a.filter((e=>e.id==String(c).padStart(2,0))),t=s.filter((e=>e.id==String(c).padStart(2,0))),e.length||(e=[{id:String(c).padStart(2,0),name:this.getMonth(this.selYear+"-"+c),value:0}]),t.length||(t=[{id:String(c).padStart(2,0),name:this.getMonth(this.selYear+"-"+c),value:0}]),n=n.concat(e),i=i.concat(t)}let l,r=new Date(this.selMonthN).getMonth()+1,o=6;r<6&&(o=r),n=n.slice(r-o,r),i=i.slice(r-o,r),l={colors:["#5579ED","#FF860F"],tooltip:{alwaysShowContent:!1,trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:"5%",left:"7%",icon:"circle",itemHeight:8,itemWidth:8,itemGap:24,textStyle:{fontSize:"12",color:"#333333"}},grid:{top:"21%",left:"3%",right:"5%",bottom:"6%",containLabel:!0},yAxis:{type:"value",splitNumber:1,show:!1,axisLabel:{fontSize:"0",show:!1,color:"transparent"}},xAxis:{type:"category",data:n.map((e=>e.name)),axisTick:{alignWithLabel:!0,count:4},axisLabel:{color:"#666666",fontSize:"10"},axisLine:{lineStyle:{color:"#DBDFE8"}}},series:[{name:new Date(this.selYear).getFullYear(),type:"bar",data:e?i.map((e=>e.value)):[],barWidth:"16",barGap:"30%",itemStyle:{borderRadius:[3,3,3,3],color:"#5579ED"},label:{lineHeight:9,show:!0,formatter:"{c}%",position:"top",color:"#535353",fontSize:"8"}}]},l&&"object"===typeof l&&this.myChartAnnualLeave.setOption(l),window.addEventListener("resize",this.myChartAnnualLeave.resize)},getAgeLevelItems(e,t,a){const s=document.getElementById(a||"ageGroup");if(!s)return!1;const n=this.$echarts.init(s,null,{devicePixelRatio:2});let i;const l=a?this.MAgeByGradeSick:this.MAgeByGrade;if(i={color:this.setEchartColor(),tooltip:{alwaysShowContent:!1,trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{top:"0%",left:"7%",right:"16%",bottom:"9px",containLabel:!0},xAxis:{type:"value",axisLabel:{show:!1,fontSize:0,color:"transparent"},splitLine:{show:!1,lineStyle:{color:"#EEEEEE"}}},yAxis:{type:"category",data:l.map((e=>e.name)).reverse(),axisTick:{show:!1},axisLabel:{color:"#333333",fontSize:"12"},axisLine:{lineStyle:{color:"#EEEEEE"}}},series:[{name:"",type:"bar",data:e?l.map(((e,t)=>({value:e.value,itemStyle:{color:this.setEchartColor()[t],borderRadius:[2,2,2,2]}}))).reverse():[],barWidth:"16",label:{show:!0,formatter:"{c}%",position:"outside",color:"#7CA0CE",fontSize:"12"}}]},i&&"object"===typeof i&&n.setOption(i),window.addEventListener("resize",n.resize),!t)return!1;setTimeout((function(){n.resize()}),500)}}},v=d,u=a(845),g=(0,u.A)(v,s,n,!1,null,"27e38674",null),m=g.exports},2407:function(e,t,a){a.d(t,{CA:function(){return o},a5:function(){return r},n7:function(){return n},of:function(){return s},y7:function(){return i},zB:function(){return l}});a(4114);function s(e,t){const a=JSON.parse(JSON.stringify(e)),n=Object.keys(e);return n.forEach((n=>{-1!==[null,void 0,""].indexOf(a[n])?delete a[n]:t&&"object"===typeof e[n]&&!Array.isArray(e[n])&&(a[n]=s(a[n]))})),a}function n(e,t){if(!e)return"";const a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date(e),i=n.getFullYear(),l=String(n.getMonth()+1).padStart(2,0),r=a[n.getMonth()],o=s[n.getMonth()],c=String(n.getDate()).padStart(2,0),h=String(n.getHours()).padStart(2,0),d=String(n.getMinutes()).padStart(2,0),v=String(n.getSeconds()).padStart(2,0);switch(t){case"slash":return`${i}/${l}/${c}`;case"year":return`${i}`;case"monthN":return`${i}-${l}`;case"monthLong":return`${i}-${o}`;case"month":return`${i}-${r}`;case"monthsh":return`${i}/${l}`;case"day":return`${c}-${l}-${i}`;case"timestamp":return`${i}${l}${c}${h}${d}`;case"obj":return{y:i,m:l,d:c,h:h,min:d,s:v};case"normal":return`${i}-${l}-${c} ${h}:${d}:${v}`;case"normalHours":return`${i}-${l}-${c} ${h}`;case"normalMin":return`${i}-${l}-${c} ${h}:${d}`;case"normalDay":return`${i}-${r}-${c}`;case"normalDay2":return`${i}-${l}-${c}`;case"normalDay3":return`${i}-${o}-${c}`;case"normalDay4":return`${i}/${o}/${c}`;default:return`${l}-${c}-${i} ${h}:${d}`}}const i=e=>{const t=new Date(e),a=t.getFullYear(),s=t.getMonth(),n=e=>e%4===0&&e%100!==0||e%400===0,i=[31,n(a)?29:28,31,30,31,30,31,31,30,31,30,31][s];return i},l=()=>{let e=["#73A0FA","#73DEB3","#7585A2","#F7C739","#EB7E65","#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#379392","#4F86C6","#4F86C6","#6C49B8","#67D5B5","#EE7785","#C89EC4","#84B1ED"];return e},r=(e,t,a)=>{const s=a?new Date(a):new Date,n=s.getFullYear(),i=s.getMonth()-(t||0),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","September","October","November","December"];let o=[];for(let c=5;c>=0;c--){const t=i-c<0?n-1:n,a=(i-c+12)%12,s=e?r[a]:l[a],h=`${t}-${s}`;o.push(h)}return o},o=(e,t)=>{let a=e.reduce(((e,a)=>{const s=e.find((e=>e[t]===a[t]));return s?e:e.concat([a])}),[]);return a}},8640:function(e,t,a){e.exports=a.p+"img/icon_1.38a41e40.svg"},597:function(e,t,a){e.exports=a.p+"img/select.566d2950.svg"}}]);