"use strict";(self["webpackChunkHR_Dashboard"]=self["webpackChunkHR_Dashboard"]||[]).push([[381],{5381:function(t,e,i){i.r(e),i.d(e,{default:function(){return g}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content training"},[e("van-row",{staticClass:"select-box",attrs:{gutter:"6"}},[e("van-col",{attrs:{span:"12"}},[e("span",{staticClass:"fs-20"},[t._v("Total Training Summary")])]),e("van-col",{attrs:{span:"12 justify-end"}},[e("div",{staticClass:"fs-20"},[t._v("YTD")])])],1),e("van-row",{staticClass:"training-total",attrs:{gutter:"14"}},[e("van-col",{attrs:{span:8}},[e("div",{staticClass:"training-total-items align-center justify-center"},[e("div",{staticClass:"text-center"},[e("p",[e("img",{attrs:{src:i(278)}})]),e("p",{staticClass:"number fs-24 text-blue"},[t._v(t._s(t._f("formatNumber")(t.totalHours)))]),e("p",{staticClass:"remark fs-12 text-gray"},[t._v("Total Training"),e("br"),t._v("Hours")])])])]),e("van-col",{attrs:{span:8}},[e("div",{staticClass:"training-total-items align-center justify-center"},[e("div",{staticClass:"text-center"},[e("p",[e("img",{attrs:{src:i(7399)}})]),e("p",{staticClass:"number fs-24 text-success"},[t._v(t._s(t._f("formatNumber")(t.perHours))+"h")]),e("p",{staticClass:"remark fs-12 text-gray"},[t._v("Training"),e("br"),t._v("Hours/Person")])])])]),e("van-col",{attrs:{span:8}},[e("div",{staticClass:"training-total-items align-center justify-center"},[e("div",{staticClass:"text-center"},[e("p",[e("img",{attrs:{src:i(1525)}})]),e("p",{staticClass:"number fs-24 text-yellow"},[t._v(t._s(t.effectiveness))]),e("p",{staticClass:"remark fs-12 text-gray"},[t._v("Training"),e("br"),t._v("Effectiveness")])])])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[t._m(0),e("div",{staticClass:"leave-items-content",style:{height:60*Object.values(t.trainingEmpStatItems)?.length+24+"px"}},[e("div",{staticClass:"leave-items"},[e("van-row",[e("van-col",{staticClass:"leave-items-date",attrs:{span:"12"}})],1),e("div",{staticClass:"leave-bar",style:{height:60*Object.values(t.trainingEmpStatItems)?.length+"px"},attrs:{id:"leaveList"}})],1)])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._m(1),e("van-sticky",{attrs:{"offset-top":32}},[e("van-row",{staticClass:"select-box mt-16",attrs:{gutter:"6"}},[e("van-col",{attrs:{span:"12"}},[e("span",{on:{click:function(e){t.show=!0}}},[t._v("Select BU |")]),e("span",{staticClass:"ml-8",on:{click:function(e){t.show=!0}}},[t._v(t._s(t.selBu))]),e("img",{attrs:{width:"24px",src:i(597)},on:{click:function(e){t.show=!0}}})])],1)],1),e("van-action-sheet",{attrs:{title:"Select BU",round:!1,actions:t.buList},on:{select:t.onSelect},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),e("div",{staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[t._m(2),e("div",{staticClass:"leave-items-content"},[e("div",{staticClass:"leave-items"},[e("van-row",[e("van-col",{staticClass:"leave-items-date",attrs:{span:"12"}},[t._v(" FL VS. Office ")])],1),e("div",{staticClass:"leave-bar",attrs:{id:"traningHours"}})],1)])])]),e("div",{staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[t._m(3),e("div",{staticClass:"recruit"},[e("div",{staticClass:"recruit-items",style:{height:45*Object.values(t.trainingListByDept)?.length+"px"}},[e("div",{staticClass:"employee-bar",style:{height:45*Object.values(t.trainingListByDept)?.length+"px"},attrs:{id:"trainingListByDept"}})])])])]),e("div",{staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[t._m(4),e("div",{staticClass:"leave-items-content",style:{height:50*Object.values(t.trainingEmpStatBuItems)?.length+78+"px"}},[e("div",{staticClass:"leave-items"},[e("van-row",[e("van-col",{staticClass:"leave-items-date",attrs:{span:"12"}},[t._v(" FL VS. Office ")])],1),e("div",{staticClass:"leave-bar",style:{height:50*Object.values(t.trainingEmpStatBuItems)?.length+30+"px"},attrs:{id:"course"}})],1)])])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[t._m(5),e("van-row",{staticClass:"in-post-content",class:[t.isShow2?"am-active":""],attrs:{gutter:"16"}},[t._l(t.inpostList2,(function(i,s){return e("van-col",{key:i.id,staticClass:"in-post-list",attrs:{span:"12"}},[e("div",{staticClass:"in-post-pie"},[e("div",{staticClass:"in-post-title"},[t._v(t._s(i.title))]),e("div",{staticClass:"in-post-pie-content",attrs:{id:"inpostList2"+i.id}})])])})),e("van-col",{staticClass:"in-post-list",attrs:{span:"12"}})],2),e("div",{staticClass:"text-center"},[e("div",{staticClass:"show-more text-yellow fs-12",on:{click:function(e){return t.showMore(2)}}},[e("img",{class:[t.isShow2?"am-active":""],attrs:{width:"16px",src:i(2190)}}),t._v(" "+t._s(t.isShow2?"Folded":"Show More")+" ")])])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[t._m(6),e("div",{staticClass:"leave-items-content leave-items-more",class:[t.isShow3?"am-active":""]},t._l(t.leaveList2,(function(i){return e("div",{key:i.id,staticClass:"leave-items leave-items-more"},[e("van-row",[e("van-col",{staticClass:"leave-items-date",attrs:{span:"12"}},[t._v(" "+t._s(i.date)+" ")])],1),e("div",{staticClass:"leave-bar",attrs:{id:"leaveList2"+i.id}})],1)})),0),e("div",{staticClass:"text-center"},[e("div",{staticClass:"show-more text-yellow fs-12",on:{click:function(e){return t.showMore("3")}}},[e("img",{class:[t.isShow3?"am-active":""],attrs:{width:"16px",src:i(2190)}}),t._v(" "+t._s(t.isShow3?"Folded":"Show More")+" ")])])])])],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:i(7592)}}),e("span",[t._v("Participation by Course")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:i(5513)}}),e("span",[t._v("Training Hours Of Person by BU")])]),e("div",{staticClass:"employee resignation"},[e("div",{staticClass:"employee-items resignation-items"},[e("div",{staticClass:"employee-bar",attrs:{id:"trainingList"}})])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:i(7592)}}),e("span",[t._v("Total Training Hours")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:i(5513)}}),e("span",[t._v("Training Hours Of Person by Dept.")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:i(7592)}}),e("span",[t._v("Participation by Course")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:i(4762)}}),e("span",[t._v("Training Duration Completion")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:i(4762)}}),e("span",[t._v("Core Course Completion")])])}],n=(i(4114),i(7349)),r=i(3011),o=i(7691),l=i(9941),c=i(2407),h=i(8193),d={name:"coreKPI",components:{Row:n.A,Col:r.A,Swipe:o.A,SwipeItem:l.A},data(){const t={common:{pageNum:1,pageSize:2e3,returnTotalNum:"true"}};return{...t,leaveList:[{id:1,date:"2024/01",total:2156},{id:2,date:"2024/02",total:2156},{id:3,date:"2024/03",total:2156},{id:4,date:"2024/04",total:2156},{id:5,date:"2024/05",total:2156},{id:6,date:"2024/06",total:2156}],isShow:!1,resignationList:[{id:1,date:"2024/01",total:280},{id:2,date:"2024/02",total:280},{id:3,date:"2024/03",total:280},{id:4,date:"2024/04",total:280},{id:5,date:"2024/05",total:280},{id:6,date:"2024/06",total:280}],colors:[],inpostList2:[{id:1,title:"TKH",type:"normal"},{id:2,title:"SLT",type:"warning"},{id:3,title:"TLC",type:"danger"},{id:4,title:"TLQ"},{id:5,title:"HTK"},{id:6,title:"TKZY"},{id:7,title:"TKH"}],leaveList2:[{id:1,date:"2024/01",total:2156},{id:2,date:"2024/02",total:2156},{id:3,date:"2024/03",total:2156},{id:4,date:"2024/04",total:2156},{id:5,date:"2024/05",total:2156},{id:6,date:"2024/06",total:2156}],isShow2:!1,isShow3:!1,trainingEmpStat:[],trainingEmpStatBu:[],perHours:0,selBu:"",show:!1,trainingYTD:[],trainingYTDByBu:[],totalHours:0,effectiveness:0}},computed:{trainingEmpStatItems(){const t={};return this.trainingEmpStat.forEach((e=>{t[e.bu_code]=t[e.bu_code]||[],t[e.bu_code].push(e)})),t},trainingEmpStatBuItems(){const t={};return this.trainingYTDByBu.forEach((e=>{t[e.scene_name]=t[e.scene_name]||[],t[e.scene_name].push(e)})),t},trainingListByDept(){let t={};return this.trainingEmpStatItems[this.selBu]?(this.trainingEmpStatItems[this.selBu].forEach((e=>{e.dept_code=e.dept_code||"",t[e.dept_code]=t[e.dept_code]||[],t[e.dept_code].push(e)})),t):[[]]},trainingYTDBuItems(){const t={};return this.trainingYTD.forEach((e=>{t[e.bu_code]=t[e.bu_code]||[],t[e.bu_code].push(e)})),t}},created(){this.leaveList=this.leaveList.reverse(),this.leaveList2=this.leaveList2.reverse(),this.colors=(0,c.zB)(),this.$nextTick((async()=>{this.selBu=this.buList?.[0]?.value,await this.getTrainingYTD(),this.getTrainingEffectiveness(),await this.getTrainingEmpStat(),await this.getTrainingEmpStatBu(),this.getLeave(!0);for(let t=0;t<this.inpostList2.length;t++)this.getInpost(this.inpostList2[t],"2",!0);for(let t=0;t<this.leaveList2.length;t++)this.getLeave2(this.leaveList2[t],"2",!0);this.getTrainingListByDept(!0,!0),this.observer=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?this.getLeave(!0):this.getLeave(!1)}))})),this.getCourse(!0),this.getTraningHours(!0),this.observer.observe(document.getElementById("leaveList")),this.getTrainingList(!0),this.observer2=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?this.getTrainingList(!0):this.getTrainingList(!1)}))})),this.observer2.observe(document.getElementById("trainingList"));for(let t=0;t<this.leaveList.length;t++)this["observer"+(t+1)]=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?this.getLeave2(this.leaveList[t],"2",!0):this.getLeave2(this.leaveList[t],"2",!1)}))})),this["observer"+(t+1)].observe(document.getElementById("leaveList2"+this.leaveList[t].id));for(let t=0;t<this.inpostList2.length;t++)this["observer2"+(t+1)]=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?this.getInpost(this.inpostList2[t],"2",!0):this.getInpost(this.inpostList2[t],"2",!1)}))})),this["observer2"+(t+1)].observe(document.getElementById("inpostList2"+this.inpostList2[t].id));for(let t=0;t<this.leaveList2.length;t++)this["observer3"+(t+1)]=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?this.getTrainingListByDept(!0,!0):this.getTrainingListByDept(!0,!1)}))})),this["observer3"+(t+1)].observe(document.getElementById("trainingListByDept"));this.observer5=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?this.getLeave(!0):this.getLeave(!1)}))})),this.observer5.observe(document.getElementById("leaveList")),this.observer6=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?this.getCourse(!0):this.getCourse(!1)}))})),this.observer6.observe(document.getElementById("course")),this.observer7=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?this.getTraningHours(!0):this.getTraningHours(!1)}))})),this.observer7.observe(document.getElementById("traningHours"))}))},watch:{},methods:{arrDistinct:c.CA,onSelect(t){this.show=!1,this.selBu=t.value,this.$nextTick((async()=>{await this.getTrainingYTD(),this.getTrainingEffectiveness(),await this.getTrainingEmpStat(),await this.getTrainingEmpStatBu(),this.getTrainingListByDept(!0,!0),this.getCourse(!0,!0),this.getTraningHours(!0,!0)}))},async getTrainingYTD(){const t=await h.UF({...this.$options.data().common,the_year:(0,c.n7)(new Date,"year")});this.trainingYTD=t.rows;const e=this.arrDistinct(t.rows,"emp_id"),i=t.rows.map((t=>t.get_study_hours)).reduce(((t,e)=>t+e),0);this.totalHours=parseFloat(i.toFixed(2)),this.perHours=parseFloat((i/e.length||0).toFixed(2))},async getTrainingEffectiveness(){const t=await h.DN({...this.$options.data().common,the_year:(0,c.n7)(new Date,"year")});this.effectiveness=parseFloat(t.rows?.[0]?.effectiveness.toFixed(2))},async getTrainingYTDByBu(){const t=await h.UF({...this.$options.data().common,the_year:(0,c.n7)(new Date,"year"),bu_code:"Overview"===this.selBu?"":this.selBu});this.trainingYTDByBu=t.rows},async getTrainingEmpStat(){const t=await h.bC({...this.$options.data().common,begin_day:(0,c.n7)(new Date,"year")+"-01-01",end_day:(0,c.n7)(new Date,"monthN")+"-"+(0,c.y7)((0,c.n7)(new Date,"monthN"))});this.trainingEmpStat=t.rows},async getTrainingEmpStatBu(){const t=await h.bC({...this.$options.data().common,bu_code:"Overview"===this.selBu?"":this.selBu,begin_day:(0,c.n7)(new Date,"year")+"-01-01",end_day:(0,c.n7)(new Date,"monthN")+"-"+(0,c.y7)((0,c.n7)(new Date,"monthN"))});this.trainingEmpStatBu=t.rows},showMore(t){this["isShow"+t]=!this["isShow"+t]},getInpost(t,e,i){const s=document.getElementById("inpostList"+e+t.id);if(!s)return!1;this.myChartInpost&&this.myChartInpost.dispose(),this.myChartInpost=this.$echarts.init(s);let a,n=["#5579ED"];"warning"===t?.type?n=["#B87B00"]:"danger"===t?.type&&(n=["#F25769"]);const r=[{value:82.22,name:"In-post / Forecast",title:{offsetCenter:["0%","13%"],fontSize:10},detail:{valueAnimation:!0,offsetCenter:["0%","-7%"],fontSize:16}}];a={color:n,series:[{type:"gauge",startAngle:90,endAngle:-270,center:["50%","37%"],pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1},axisLine:{lineStyle:{width:10}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:i?r:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",formatter:"{value}%"}}]},a&&"object"===typeof a&&this.myChartInpost.setOption(a),window.addEventListener("resize",this.myChartInpost.resize)},getTrainingList(t){const e=document.getElementById("trainingList");if(!e)return!1;this.myChartTrainingList&&this.myChartTrainingList.dispose(),this.myChartTrainingList=this.$echarts.init(e,null,{devicePixelRatio:2});let i,s=[];for(let a in this.trainingYTDBuItems)if(this.trainingYTDBuItems.hasOwnProperty(a)){const t=this.trainingYTDBuItems[a].map((t=>t.get_study_hours)).reduce(((t,e)=>t+e),0),e=this.arrDistinct(this.trainingYTDBuItems[a],"emp_id"),i=t/e.length;s.push({name:a,total:i,value:i.toFixed(2)})}s=[...s].sort(((t,e)=>e.total-t.total)),i={tooltip:{alwaysShowContent:!1,trigger:"axis",axisPointer:{type:"shadow"}},color:["#5579ED"],legend:{},grid:{top:"8.5%",left:"3.5%",right:"4%",bottom:"2%",containLabel:!0},yAxis:{type:"value",splitNumber:4,show:!1,axisLabel:{fontSize:"10",margin:10,color:"#505E72",formatter:function(t){}}},xAxis:{type:"category",data:s.map((t=>t.name)),axisTick:{},axisLabel:{color:"#505E72",fontSize:"10",rotate:40},axisLine:{lineStyle:{color:"#DBDFE8"}}},series:[{name:"",type:"bar",data:t?s.map((t=>t.value)):[],barWidth:"20",itemStyle:{borderRadius:[2,2,2,2]},markLine:{lineStyle:{type:"dashed",color:"#343C50"},label:{position:"start",color:"#FFFFFF",fontSize:10,padding:3,distance:[0,0],backgroundColor:"#343C50"},data:[{type:"average",name:""}],symbol:["diamond","none"],symbolSize:[16,16]},label:{show:!0,formatter:"{c}",position:"top",color:"#5579ED",fontSize:"12"}}]},i&&"object"===typeof i&&this.myChartTrainingList.setOption(i),window.addEventListener("resize",this.myChartTrainingList.resize)},getLeave(t){const e=document.getElementById("leaveList");if(!e)return!1;this.myChartLeave&&this.myChartLeave.dispose(),this.myChartLeave=this.$echarts.init(e,null,{devicePixelRatio:2});let i,s=[];for(let a in this.trainingEmpStatItems)if(this.trainingEmpStatItems.hasOwnProperty(a)){const t=this.trainingEmpStatItems[a].map((t=>t.join_project_emp)).reduce(((t,e)=>t+e),0),e=this.trainingEmpStatItems[a].map((t=>t.total_emp)).reduce(((t,e)=>t+e),0),i=t/e;s.push({name:a,value:(100*i).toFixed(2)})}s=[...s].sort(((t,e)=>parseInt(t.value)-parseInt(e.value))),i={color:["#5579ED","#A3CCF8"],tooltip:{alwaysShowContent:!1,trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{top:"0%",left:"5%",right:"6.5%",bottom:"6%",containLabel:!0},xAxis:{type:"value",axisLabel:{show:!1,fontSize:0,color:"transparent"},splitLine:{show:!1,lineStyle:{color:"#EEEEEE"}}},yAxis:{type:"category",data:s.map((t=>t.name)),axisTick:{show:!1},max:"100",axisLabel:{color:"#333333",fontSize:"12"},axisLine:{lineStyle:{color:"#EEEEEE"}}},series:[{name:"",type:"bar",showBackground:!0,barGap:"0.3",backgroundStyle:{color:"#EEF0F6"},data:t?s.map((t=>t.value)):[],barWidth:"20",itemStyle:{borderRadius:[2,2,2,2]},label:{show:!0,formatter:"{c}%",position:["85%","-14"],color:"#5579ED",fontSize:"12"}}]},i&&"object"===typeof i&&this.myChartLeave.setOption(i),window.addEventListener("resize",this.myChartLeave.resize),setTimeout((()=>{this.myChartLeave.resize()}),500)},getLeave2(t,e,i){const s=document.getElementById("leaveList"+e+t.id);if(!s)return!1;let a;this.myChartPenderPie&&this.myChartPenderPie.dispose(),this.myChartPenderPie=this.$echarts.init(s,null,{devicePixelRatio:2}),a={color:["#5579ED","#A3CCF8"],tooltip:{alwaysShowContent:!1,trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{top:"0%",left:"5%",right:"6.5%",bottom:"6%",containLabel:!0},xAxis:{type:"value",axisLabel:{show:!1,fontSize:0,color:"transparent"},splitLine:{show:!0,lineStyle:{color:"#EEEEEE"}}},yAxis:{type:"category",data:["GRO","SSM","SHKY","TLX","SLT","TKH"],axisTick:{show:!1},max:"100",axisLabel:{color:"#333333",fontSize:"12"},axisLine:{lineStyle:{color:"#EEEEEE"}}},series:[{name:"",type:"bar",showBackground:!0,barGap:"0.3",backgroundStyle:{color:"#EEF0F6"},data:i?[{value:44,itemStyle:{color:"#5579ED"}},{value:55,itemStyle:{color:"#5579ED"}},{value:66,itemStyle:{color:"#5579ED"}},{value:77,itemStyle:{color:"#5579ED"}},{value:89,itemStyle:{color:"#5579ED"}},{value:100,itemStyle:{color:"#5579ED"}}]:[],barWidth:"20",itemStyle:{borderRadius:[2,2,2,2]},label:{show:!0,formatter:"{c}%",position:["85%","-14"],color:"#5579ED",fontSize:"12"}}]},a&&"object"===typeof a&&this.myChartPenderPie.setOption(a),window.addEventListener("resize",this.myChartPenderPie.resize)},getTrainingListByDept(t,e){const i=document.getElementById("trainingListByDept");if(!i)return!1;this.myChartTrainingListByDept&&this.myChartTrainingListByDept.dispose(),this.myChartTrainingListByDept=this.$echarts.init(i);let s,a=[];for(let n in this.trainingListByDept)if(this.trainingListByDept.hasOwnProperty(n)){const t=this.trainingListByDept[n].filter((t=>"是"===t.is_frontline)).map((t=>t.get_study_hours)).reduce(((t,e)=>t+e),0),e=this.arrDistinct(this.trainingListByDept[n].filter((t=>"是"===t.is_frontline)),"project_id").length,i=t&&e?t/e:0,s=this.trainingListByDept[n].filter((t=>"否"===t.is_frontline)).map((t=>t.get_study_hours)).reduce(((t,e)=>t+e),0),r=this.arrDistinct(this.trainingListByDept[n].filter((t=>"否"===t.is_frontline)),"project_id").length,o=s&&r?s/r:0;a.push({dept_seq:this.trainingListByDept[n][0]?.dept_seq||999999,name:n||"-",is_frontline:i.toFixed(2),is_frontline_n:o.toFixed(2)})}a=a.filter((t=>Number(t.is_frontline_n)&&Number(t.is_frontline_n))),a=[...a].sort(((t,e)=>t.is_frontline_n-e.is_frontline_n)),a.map(((t,e)=>{t.itemStyle=(e+1)%2===0?{color:"#A3CCF8"}:{color:"#5579ED"}})),s={color:["#5579ED","#FF860F"],tooltip:{alwaysShowContent:!1,trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:"6px",left:"7%",icon:"circle",itemHeight:8,itemWidth:8,itemGap:24,textStyle:{fontSize:"12",color:"#333333"}},grid:{top:"30px",left:"5%",right:"20%",bottom:"2%",containLabel:!0},xAxis:{type:"value",axisLabel:{show:!1,fontSize:0,color:"transparent"},splitLine:{show:!1,lineStyle:{color:"#EEEEEE"}}},yAxis:{type:"category",data:a.map((t=>t.name)),axisTick:{show:!1},axisLabel:{color:"#333333",fontSize:"12"},axisLine:{lineStyle:{color:"#EEEEEE"}}},series:[{name:"FL",type:"bar",stack:"total",barGap:"0.3",data:t?a.map((t=>t.is_frontline)):[],barWidth:"18",itemStyle:{borderRadius:[2,2,2,2]},label:{show:!0,position:[3,-12],formatter:function(t){return Number(t.data)>0?t.data:""},color:"#5579ED",fontSize:"12"}},{name:"Office",type:"bar",stack:"total",barGap:"0.3",data:t?a.map((t=>t.is_frontline_n)):[],barWidth:"18",itemStyle:{borderRadius:[2,2,2,2]},label:{show:!0,position:["100%",-12],formatter:function(t){return Number(t.data)>0?t.data:""},color:"#5579ED",fontSize:"12"}}]},s&&"object"===typeof s&&this.myChartTrainingListByDept.setOption(s),window.addEventListener("resize",this.myChartTrainingListByDept.resize)},getCourse(t){const e=document.getElementById("course");if(!e)return!1;this.myChartCourse&&this.myChartCourse.dispose(),this.myChartCourse=this.$echarts.init(e,null,{devicePixelRatio:2});let i,s=[];for(let a in this.trainingEmpStatBuItems)if(this.trainingEmpStatBuItems.hasOwnProperty(a)){const t=this.trainingEmpStatBuItems[a].filter((t=>"Y"===t.is_frontline)),e=this.trainingEmpStatBuItems[a].filter((t=>"N"===t.is_frontline)),i=t.length/this.trainingEmpStatBuItems[a].length,n=e.length/this.trainingEmpStatBuItems[a].length;s.push({name:a,is_frontline:(100*i).toFixed(2),is_frontline_n:(100*n).toFixed(2)})}s=[...s].sort(((t,e)=>parseInt(t.value)-parseInt(e.value))),i={color:["#5579ED","#FF860F"],tooltip:{alwaysShowContent:!1,trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:"0%",left:"7%",icon:"circle",itemHeight:8,itemWidth:8,itemGap:24,textStyle:{fontSize:"12",color:"#333333"}},grid:{top:"30px",left:"5%",right:"20%",bottom:"2%",containLabel:!0},xAxis:{type:"value",axisLabel:{show:!1,fontSize:0,color:"transparent"},splitLine:{show:!1,lineStyle:{color:"#EEEEEE"}}},yAxis:{type:"category",data:s.map((t=>t.name)),axisTick:{show:!1},max:"100",axisLabel:{color:"#333333",fontSize:"12"},axisLine:{lineStyle:{color:"#EEEEEE"}}},series:[{name:"FL",type:"bar",stack:"total",showBackground:!0,barGap:"0.3",backgroundStyle:{color:"#EEF0F6"},data:t?s.map((t=>t.is_frontline)):[],barWidth:"18",itemStyle:{borderRadius:[2,2,2,2]},label:{show:!0,position:[3,-12],formatter:function(t){return Number(t.data)>0?t.data+"%":""},color:"#5579ED",fontSize:"12"}},{name:"Office",type:"bar",stack:"total",showBackground:!0,barGap:"0.3",backgroundStyle:{color:"#EEF0F6"},data:t?s.map((t=>t.is_frontline_n)):[],barWidth:"18",itemStyle:{borderRadius:[2,2,2,2]},label:{show:!0,position:["100%",-12],formatter:function(t){return Number(t.data)>0?t.data+"%":""},color:"#5579ED",fontSize:"12"}}]},i&&"object"===typeof i&&this.myChartCourse.setOption(i),window.addEventListener("resize",this.myChartCourse.resize)},getTraningHours(t){const e=document.getElementById("traningHours");if(!e)return!1;this.myChartTraningHours&&this.myChartTraningHours.dispose(),this.myChartTraningHours=this.$echarts.init(e,null,{devicePixelRatio:2});let i,s=[];for(let a in this.trainingEmpStatBuItems)if(this.trainingEmpStatBuItems.hasOwnProperty(a)){const t=this.trainingEmpStatBuItems[a].filter((t=>"Y"===t.is_frontline)).map((t=>t.project_tasks_hours)).reduce(((t,e)=>t+e),0),e=this.trainingEmpStatBuItems[a].filter((t=>"N"===t.is_frontline)).map((t=>t.project_tasks_hours)).reduce(((t,e)=>t+e),0);s.push({name:a,value:t.toFixed(2),value2:e.toFixed(2)})}s=[...s].sort(((t,e)=>e.value-t.value)),i={tooltip:{alwaysShowContent:!1,trigger:"axis",axisPointer:{type:"shadow"}},color:["#5579ED","#FF860F"],legend:{top:"0%",left:"7%",icon:"circle",itemHeight:8,itemWidth:8,itemGap:24,textStyle:{fontSize:"12",color:"#333333"}},grid:{top:"30px",left:"3.5%",right:"4%",bottom:"2%",containLabel:!0},yAxis:{type:"value",splitNumber:4,show:!1,axisLabel:{fontSize:"10",margin:10,color:"#505E72",formatter:function(t){}}},xAxis:{type:"category",data:s.map((t=>t.name)),axisTick:{},axisLabel:{color:"#505E72",fontSize:"10",rotate:40},axisLine:{lineStyle:{color:"#DBDFE8"}}},series:[{name:"FL",type:"bar",data:t?s.map((t=>t.value)):[],barWidth:"18",itemStyle:{borderRadius:[2,2,2,2]},label:{lineHeight:9,show:!0,formatter:"{c}",position:"top",color:"#535353",fontSize:"8"}},{name:"Office",type:"bar",data:t?s.map((t=>t.value2)):[],barWidth:"18",itemStyle:{borderRadius:[2,2,2,2]},label:{lineHeight:9,show:!0,formatter:"{c}",position:"top",color:"#535353",fontSize:"8"}}]},i&&"object"===typeof i&&this.myChartTraningHours.setOption(i),window.addEventListener("resize",this.myChartTraningHours.resize)}}},m=d,p=i(845),u=(0,p.A)(m,s,a,!1,null,"6bd0a558",null),g=u.exports},2407:function(t,e,i){i.d(e,{CA:function(){return l},a5:function(){return o},n7:function(){return a},of:function(){return s},y7:function(){return n},zB:function(){return r}});i(4114);function s(t,e){const i=JSON.parse(JSON.stringify(t)),a=Object.keys(t);return a.forEach((a=>{-1!==[null,void 0,""].indexOf(i[a])?delete i[a]:e&&"object"===typeof t[a]&&!Array.isArray(t[a])&&(i[a]=s(i[a]))})),i}function a(t,e){if(!t)return"";const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(t),n=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,0),o=i[a.getMonth()],l=s[a.getMonth()],c=String(a.getDate()).padStart(2,0),h=String(a.getHours()).padStart(2,0),d=String(a.getMinutes()).padStart(2,0),m=String(a.getSeconds()).padStart(2,0);switch(e){case"slash":return`${n}/${r}/${c}`;case"year":return`${n}`;case"monthN":return`${n}-${r}`;case"monthLong":return`${n}-${l}`;case"month":return`${n}-${o}`;case"monthsh":return`${n}/${r}`;case"day":return`${c}-${r}-${n}`;case"timestamp":return`${n}${r}${c}${h}${d}`;case"obj":return{y:n,m:r,d:c,h:h,min:d,s:m};case"normal":return`${n}-${r}-${c} ${h}:${d}:${m}`;case"normalHours":return`${n}-${r}-${c} ${h}`;case"normalMin":return`${n}-${r}-${c} ${h}:${d}`;case"normalDay":return`${n}-${o}-${c}`;case"normalDay2":return`${n}-${r}-${c}`;case"normalDay3":return`${n}-${l}-${c}`;case"normalDay4":return`${n}/${l}/${c}`;default:return`${r}-${c}-${n} ${h}:${d}`}}const n=t=>{const e=new Date(t),i=e.getFullYear(),s=e.getMonth(),a=t=>t%4===0&&t%100!==0||t%400===0,n=[31,a(i)?29:28,31,30,31,30,31,31,30,31,30,31][s];return n},r=()=>{let t=["#73A0FA","#73DEB3","#7585A2","#F7C739","#EB7E65","#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#379392","#4F86C6","#4F86C6","#6C49B8","#67D5B5","#EE7785","#C89EC4","#84B1ED"];return t},o=(t,e,i)=>{const s=i?new Date(i):new Date,a=s.getFullYear(),n=s.getMonth()-(e||0),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["January","February","March","April","May","June","July","August","September","October","November","December"];let l=[];for(let c=5;c>=0;c--){const e=n-c<0?a-1:a,i=(n-c+12)%12,s=t?o[i]:r[i],h=`${e}-${s}`;l.push(h)}return l},l=(t,e)=>{let i=t.reduce(((t,i)=>{const s=t.find((t=>t[e]===i[e]));return s?t:t.concat([i])}),[]);return i}},2190:function(t,e,i){t.exports=i.p+"img/more.0e51bcf8.svg"},597:function(t,e,i){t.exports=i.p+"img/select.566d2950.svg"},1525:function(t,e,i){t.exports=i.p+"img/icon_1.9a70e0a0.svg"},278:function(t,e,i){t.exports=i.p+"img/icon_2.7bf157dd.svg"},7399:function(t,e,i){t.exports=i.p+"img/icon_3.7dc01385.svg"},7592:function(t,e,i){t.exports=i.p+"img/icon_4.e012cc7b.svg"},5513:function(t,e,i){t.exports=i.p+"img/icon_5.ccb06ef0.svg"},4762:function(t,e,i){t.exports=i.p+"img/icon_6.e7519bcb.svg"}}]);