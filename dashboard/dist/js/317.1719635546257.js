"use strict";(self["webpackChunktenant_portal"]=self["webpackChunktenant_portal"]||[]).push([[317],{5317:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[t._m(0),e("div",{staticClass:"contract-renewing-content"},[e("van-row",{staticClass:"contract-renewing-content-split text-center",attrs:{gutter:"16"}},[e("van-col",{attrs:{span:"12"}},[e("div",[e("p",{staticClass:"fs-14 text-gray lh-24"},[t._v("Resignation of B/C")]),e("p",{staticClass:"fs-24 text-yellow lh-40 fw-600"},[t._v(t._s(t.mResignation.length))])])]),e("van-col",{attrs:{span:"12"}},[e("div",[e("p",{staticClass:"fs-14 text-gray lh-24"},[t._v("Total Resign")]),e("p",{staticClass:"fs-24 text-blue lh-40 fw-600"},[t._v(t._s(t.resignationItems.length))])])])],1)],1),e("div",{staticClass:"percentage-box pb-8 pt-0"},[e("div",{staticClass:"percentage-box-content percentage-box-content-mini align-center text-white fs-14"},[e("div",{staticClass:"percentage-box-items bg-yellow text-center",style:{width:t.mResignationPercentage+"%"}},[e("span",{staticClass:"fw-600"},[t._v(t._s(t.mResignationPercentage)+"%")])]),e("div",{staticClass:"percentage-box-items text-right bg-gray",style:{width:100-t.mResignationPercentage+"%"}},[e("span",{staticClass:"text-gray"},[t._v("Total Resign")])])]),e("van-row",{staticClass:"fs-14 lh-32"},[e("van-col",{staticClass:"text-yellow",attrs:{span:"12"}},[t._v("Management")])],1)],1)])]),e("div",{staticClass:"content-items"},[e("div",{staticClass:"content-items-content"},[t._m(1),e("div",{staticClass:"resign-reason-content"},[e("div",{ref:"resignReason"},t._l(t.resignReasonList,(function(n,s){return e("div",{key:s,style:n.style},[e("span",[t._v(t._s(n.text))])])})),0)])])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:n(586)}}),e("span",[t._v("Resignation of Management")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-items-title"},[e("img",{attrs:{width:"24px",src:n(2948)}}),e("span",[t._v("Resign Reason")])])}],r=(n(4114),n(2407)),i={name:"turnover",data(){return{colors:(0,r.zB)(),resignReasonList:[]}},computed:{resignationItems(){return this.hrEmployee.filter((t=>"离职"===t.status))},mResignation(){return this.resignationItems.filter((t=>"B"===t.emp_level||"C"===t.emp_level))},mResignationPercentage(){return(this.mResignation.length/this.resignationItems.length*100).toFixed(2)},resignReason(){const t=this.hrEmployee.filter((t=>"离职"===t.status&&t.resign_reason)),e=t.map((t=>t.resign_reason)),n=e.filter(((t,e,n)=>n.indexOf(t)===e));return n}},created(){console.log(this.resignReason),this.$nextTick((()=>{this.generateRandomItems()}))},watch:{},methods:{generateRandomItems(){const t=[],e=this.$refs.resignReason.offsetWidth,n=this.$refs.resignReason.offsetHeight,s=this.resignReason.length>50?50:this.resignReason.length;for(let a=0;a<s;a++){let s,r;do{s={fontSize:`${this.getRandomInt(12,20)}px`,color:this.colors[a],position:"absolute",left:`${this.getRandomInt(0,e-100)}px`,top:`${this.getRandomInt(0,n-50)}px`},r=t.some((t=>this.isOverlap(s,t.style)))}while(r);t.push({text:this.resignReason[a],style:s})}this.resignReasonList=t},getRandomInt(t,e){return Math.floor(Math.random()*(e-t))+t},isOverlap(t,e){const n={left:parseInt(t.left),top:parseInt(t.top),right:parseInt(t.left)+5*parseInt(t.fontSize),bottom:parseInt(t.top)+parseInt(t.fontSize)},s={left:parseInt(e.left),top:parseInt(e.top),right:parseInt(e.left)+5*parseInt(e.fontSize),bottom:parseInt(e.top)+parseInt(e.fontSize)};return!(n.right<s.left||n.left>s.right||n.bottom<s.top||n.top>s.bottom)}}},o=i,c=n(845),l=(0,c.A)(o,s,a,!1,null,"2baf4b83",null),g=l.exports},2407:function(t,e,n){n.d(e,{n7:function(){return a},of:function(){return s},zB:function(){return r}});n(4114);function s(t,e){const n=JSON.parse(JSON.stringify(t)),a=Object.keys(t);return a.forEach((a=>{-1!==[null,void 0,""].indexOf(n[a])?delete n[a]:e&&"object"===typeof t[a]&&!Array.isArray(t[a])&&(n[a]=s(n[a]))})),n}function a(t,e){if(!t)return"";const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=new Date(t),a=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,0),i=n[s.getMonth()],o=String(s.getDate()).padStart(2,0),c=String(s.getHours()).padStart(2,0),l=String(s.getMinutes()).padStart(2,0),g=String(s.getSeconds()).padStart(2,0);switch(e){case"slash":return`${a}/${r}/${o}`;case"year":return`${a}`;case"month":return`${a}-${i}`;case"monthsh":return`${a}/${r}`;case"day":return`${o}-${r}-${a}`;case"timestamp":return`${a}${r}${o}${c}${l}`;case"obj":return{y:a,m:r,d:o,h:c,min:l,s:g};case"normal":return`${a}-${r}-${o} ${c}:${l}:${g}`;case"normalHours":return`${a}-${r}-${o} ${c}`;case"normalMin":return`${a}-${r}-${o} ${c}:${l}`;case"normalDay":return`${a}-${i}-${o}`;case"normalDay2":return`${a}-${r}-${o}`;default:return`${r}-${o}-${a} ${c}:${l}`}}const r=()=>{let t=["#73A0FA","#73DEB3","#7585A2","#F7C739","#EB7E65","#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#379392","#4F86C6","#4F86C6","#6C49B8","#67D5B5","#EE7785","#C89EC4","#84B1ED"];return t}},586:function(t,e,n){t.exports=n.p+"img/icon_10.58d1e580.svg"},2948:function(t,e,n){t.exports=n.p+"img/icon_9.744f614f.svg"}}]);